
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <title>Amazon's Products</title>

    

    <link
      rel="canonical"
      href="https://getbootstrap.com/docs/4.5/examples/album/"
    />

    <!-- Bootstrap core CSS -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z"
      crossorigin="anonymous"
    />

    <link href="public/css/main.css" rel="stylesheet" />
  </head>
  <body>
    
  <div class="container">
    
     <% if (typeof message !== 'undefined' && message) { %> 
        <div class="row justify-content-md-center">
            <div class="alert alert-primary" role="alert">
                <%= message %>
            </div>
            </div>

      <% } %>
    
    <div class="row col-md-12 col-md-offset-2 custyle mx-auto">
      
    <button type="button" class="btn btn-primary">Add a new Product</button> 
    
  
  
    <table class="table table-striped custab">
    <thead>
        <tr>
            <th >Product ID</th>
            <th>Product name:</th>
            <th>Price</th>
            <th>Rating</th>
            <th>Description</th>

        </tr>
    </thead>
    <tbody>
            <% products.forEach(product => { %>
                <tr>
                    <td><%= product.product_id %></td>
                    <td><%= product.product_name %></td>
                    <td>$<%= product.price %></td>
                    <td><%= product.rating %></td>
                    <td class="description"><%= product.description %></td>
                    <td>
                        <a href="/product/<%= product._id %>" class="btn btn-primary btn-sm">View</a>
                        <a href="/product/<%= product._id %>/edit" class="btn btn-secondary btn-sm">Edit</a>
                        <form action="/product/<%= product._id %>?_method=DELETE" method="POST" style="display: inline;">
                            <button type="submit" class="btn btn-danger btn-sm">Delete</button>
                        </form>
                    </td>
                </tr>
            <% }) %>
        </tbody>
       
          
    </table>
    <nav aria-label="Page navigation example">
        <ul class="pagination">
          <% if (currentPage > 1) { %>
            <li class="page-item"><a class="page-link" href="/products?page=1">First</a></li>
            <li class="page-item"><a class="page-link" href="/products?page=<%= currentPage - 1 %>">Previous</a></li>
          <% } else { %>
            <li class="page-item disabled"><a class="page-link">First</a></li>
            <li class="page-item disabled"><a class="page-link">Previous</a></li>
          <% } %>
      
          <% for (let i = Math.max(1, currentPage - 2); i <= Math.min(currentPage + 2, numberOfPages); i++) { %>
            <li class="page-item <%= i === currentPage ? 'active' : '' %>">
              <a class="page-link" href="/products?page=<%= i %>"><%= i %></a>
            </li>
          <% } %>
      
          <% if (currentPage < numberOfPages) { %>
            <li class="page-item"><a class="page-link" href="/products?page=<%= currentPage + 1 %>">Next</a></li>
            <li class="page-item"><a class="page-link" href="/products?page=<%= numberOfPages %>">Last</a></li>
          <% } else { %>
            <li class="page-item disabled"><a class="page-link">Next</a></li>
            <li class="page-item disabled"><a class="page-link">Last</a></li>
          <% } %>
        </ul>
      </nav>
    
   
  </body>
</html>
